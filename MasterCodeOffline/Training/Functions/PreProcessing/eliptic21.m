function y = eliptic21(x)
%DOFILTER Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.2 and the DSP System Toolbox 9.4.
% Generated on: 12-Apr-2018 13:25:56

%#codegen

% To generate C/C++ code from this function use the codegen command.
% Type 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    %
    % Fstop1 = 20.8;     % First Stopband Frequency
    % Fpass1 = 20.9;     % First Passband Frequency
    % Fpass2 = 21.1;     % Second Passband Frequency
    % Fstop2 = 21.2;     % Second Stopband Frequency
    % Astop1 = 191.135;  % First Stopband Attenuation (dB)
    % Apass  = 1;        % Passband Ripple (dB)
    % Astop2 = 191.135;  % Second Stopband Attenuation (dB)
    % Fs     = 256;      % Sampling Frequency
    %
    % h = fdesign.bandpass('fst1,fp1,fp2,fst2,ast1,ap,ast2', Fstop1, Fpass1, ...
    %                      Fpass2, Fstop2, Astop1, Apass, Astop2, Fs);
    %
    % Hd = design(h, 'ellip', ...
    %     'MatchExactly', 'both', ...
    %     'SystemObject', true);
    
    Hd = dsp.BiquadFilter( ...
        'Structure', 'Direct form II', ...
        'SOSMatrix', [1 -1.73496348099405 1 1 -1.73772330798009 ...
        0.999800165623787; 1 -1.74529932335579 1 1 -1.7422703011663 ...
        0.999801785628634; 1 -1.73419169236948 1 1 -1.73789760994651 ...
        0.999666137981274; 1 -1.74604105378194 1 1 -1.74186781594562 ...
        0.99966850192476; 1 -1.73249582023849 1 1 -1.73822192442575 ...
        0.999539461845143; 1 -1.74765685993805 1 1 -1.74132869567608 ...
        0.999542015035135; 1 -1.72806144893483 1 1 -1.73869456512524 ...
        0.999436617477046; 1 -1.75179297216682 1 1 -1.74068170580992 ...
        0.999438616910234; 1 -1.70355715212227 1 1 -1.73929600729555 ...
        0.99937823849697; 1 -1.77255490821493 1 1 -1.73998070671618 ...
        0.999378999638661; 1 -1.73527803230465 1 1 -1.73769476494756 ...
        0.999933734624777; 1 -1.74499586674825 1 1 -1.74252795469996 ...
        0.999934305603809], ...
        'ScaleValues', [0.469508392000743; 0.469508392000743; ...
        0.440185825250775; 0.440185825250775; 0.336024339548085; ...
        0.336024339548085; 0.206954067499171; 0.206954067499171; ...
        0.0869249616798276; 0.0869249616798276; 0.0133288937960619; ...
        0.0133288937960619; 1]);
end

s = double(x);
y = step(Hd,s);

