function y = Band21(x)
%BAND21 Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.2 and the DSP System Toolbox 9.4.
% Generated on: 20-Mar-2018 13:32:07

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Generalized REMEZ FIR Bandpass filter designed using the FIRGR function.
    %
    % % All frequency values are in Hz.
    % Fs = 256;  % Sampling Frequency
    %
    % Fstop1 = 19;              % First Stopband Frequency
    % Fpass1 = 20;              % First Passband Frequency
    % Fpass2 = 22;              % Second Passband Frequency
    % Fstop2 = 23;              % Second Stopband Frequency
    % Dstop1 = 0.0001;          % First Stopband Attenuation
    % Dpass  = 0.057501127785;  % Passband Ripple
    % Dstop2 = 0.0001;          % Second Stopband Attenuation
    % dens   = 20;              % Density Factor
    %
    % % Calculate the coefficients using the FIRGR function.
    % b  = firgr('minorder', [0 Fstop1 Fpass1 Fpass2 Fstop2 Fs/2]/(Fs/2), [0 ...
    %            0 1 1 0 0], [Dstop1 Dpass Dstop2], {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [2.56753022153266e-05 -4.16719756551255e-05 ...
        -3.33635435137773e-05 -2.96885374109899e-05 -2.30198272776003e-05 ...
        -1.07361373279476e-05 6.22414681675728e-06 2.43287236976797e-05 ...
        3.86034504494212e-05 4.41483455808174e-05 3.77400966538703e-05 ...
        1.91670671612354e-05 -8.19031245882209e-06 -3.77664232944043e-05 ...
        -6.12766243091201e-05 -7.09031782227788e-05 -6.17055953733971e-05 ...
        -3.35027952812196e-05 8.36816897597881e-06 5.38425119134419e-05 ...
        9.03939063362434e-05 0.000106366646846881 9.44630800987078e-05 ...
        5.44314050226911e-05 -5.97012111598737e-06 -7.21925578992625e-05 ...
        -0.000126262105682508 -0.00015149369287839 -0.000137425998999028 ...
        -8.35059226891905e-05 -3.64632861351758e-07 9.19637440177325e-05 ...
        0.000168701315953825 0.000206820712370358 0.000191722439029557 ...
        0.00012220724121376 1.21457732175224e-05 -0.000111925263836211 ...
        -0.000217027770044838 -0.000272345972998663 -0.000258043928387761 ...
        -0.000171779761534558 -3.09319605702019e-05 0.000130521006686642 ...
        0.000269998728408094 0.000347414169547811 0.000336470615664012 ...
        0.000233067734437769 5.81868342584641e-05 -0.000145928866804143 ...
        -0.000325804432911749 -0.000430603153016558 -0.000426317007039974 ...
        -0.000306315605566811 -9.51181332439049e-05 0.000156180809783587 ...
        0.000382085521370925 0.000519679964552093 0.000525987421550934 ...
        0.000391001454697311 0.000142477154462313 -0.000159308562413487 ...
        -0.000436032919747961 -0.000611580879278622 -0.000632886759286859 ...
        -0.000485650300246297 -0.000200366926438334 0.000153544448283429 ...
        0.000484505818636836 0.000702468847749002 0.000743362210637783 ...
        0.000587714949314444 0.000268038807427985 -0.000137522000581977 ...
        -0.000524232928640588 -0.000787844072527301 -0.000852734383396454 ...
        -0.000693473410687815 -0.000343719280248412 0.000110526458077957 ...
        0.000552040026855538 0.00086274307311201 0.000955380416441937 ...
        0.000798023331034726 0.000424468477826808 -7.27012117066222e-05 ...
        -0.000565126787409574 -0.000921980979115086 -0.00104493528575677 ...
        -0.000895341606590876 -0.000506125376563173 2.52583103194307e-05 ...
        0.000561342678131552 0.0009604787860126 0.00111454644300191 ...
        0.000978455253751791 0.000583305719870686 2.9388464117996e-05 ...
        -0.000539474673069988 -0.000973602127305022 -0.00115723356110871 ...
        -0.00103969470996898 -0.00064952487736647 -8.75331751409407e-05 ...
        0.000499491248658516 0.000957547030630366 0.00116628540947467 ...
        0.00107104686519358 0.000697384509909408 0.000144196022450498 ...
        -0.000442748202004068 -0.000909688277891359 -0.00113572256327827 ...
        -0.00106458411065662 -0.000718906207856499 -0.000193228903788298 ...
        0.000372102514692571 0.000828937905925646 0.00106076699172629 ...
        0.00101298641739129 0.000705935265027227 0.000227548351399539 ...
        -0.000291945006208777 -0.000716004064899106 -0.000938325713470628 ...
        -0.000910096441510455 -0.000650679102506674 -0.000239491070443197 ...
        0.000208093292527894 0.00057357871048039 0.000767402523649357 ...
        0.000751470536928886 0.000546254492008464 0.000221260971263308 ...
        -0.000127577192020598 -0.00040640922792489 -0.000549440983384823 ...
        -0.000534953035666548 -0.000387346071435926 -0.000165477569404014 ...
        5.82613059192135e-05 0.000221196029956854 0.000288538533848341 ...
        0.000261115118358462 0.000170783046929978 6.58140185363289e-05 ...
        -8.39688628544743e-06 -2.63978788412916e-05 8.44609764360436e-06 ...
        6.63583243735061e-05 0.000103840380328473 8.23314615132388e-05 ...
        -1.3995944001987e-05 -0.000168158060753774 -0.000332004099079053 ...
        -0.000440404214057517 -0.000433668874169173 -0.000281232137928024 ...
        1.80343680913167e-06 0.000351829806737208 0.000670214608984926 ...
        0.000850550409802073 0.000812226467826491 0.000530146920122762 ...
        5.05284417338753e-05 -0.000513767162643904 -0.00100921144892639 ...
        -0.00128306029367693 -0.00122920239097045 -0.000824857149915793 ...
        -0.000146211787562297 0.000643710623738274 0.00133381307083486 ...
        0.00172127921290031 0.00167044796318597 0.00115730283992854 ...
        0.000285506637302026 -0.000732758716768536 -0.00162828930670305 ...
        -0.00214619908279625 -0.00211820656487349 -0.00151536627806434 ...
        -0.000465139767277066 0.000774217961259045 0.00187725122730292 ...
        0.0025372239480019 0.00255155373703525 0.00188293771665901 ...
        0.000677911225565538 -0.00076434068099695 -0.00206663035093636 ...
        -0.00287313205100912 -0.00294714628730567 -0.00224021269994372 ...
        -0.00091249620367256 0.000703020435682991 0.00218466420631144 ...
        0.00313316058671206 0.00328011604583224 0.00256422929568934 ...
        0.00115346346238606 -0.000594271123592583 -0.00222282302677049 ...
        -0.00329813621523886 -0.00352518874375694 -0.00282966422377228 ...
        -0.00138158501941907 0.000446535384653115 0.0021766312951432 ...
        0.00335167043493401 0.00365792845212656 0.00300988039034554 ...
        0.00157439018495071 -0.000272715201851231 -0.0020463351479984 ...
        -0.00328127335001011 -0.00365609066031201 -0.00307815330164735 ...
        -0.00170701882134887 8.99508577144639e-05 0.00183732794545398 ...
        0.00307937313427948 0.00350095214244151 0.00300904463693101 ...
        0.00175327335719172 8.09116656714952e-05 -0.00156030415099179 ...
        -0.00274408226152408 -0.00317856405368315 -0.00277981656397425 ...
        -0.00168690961116328 -0.000216137363355615 0.00123107796613014 ...
        0.00227975304490425 0.00268087367821467 0.00237189698157801 ...
        0.00148304847452251 0.000290165369650027 -0.000870163743407699 ...
        -0.0016972440091789 -0.00200665528624936 -0.00177221052638738 ...
        -0.00111965637029178 -0.00027686694658892 0.000501969377900648 ...
        0.00101379431772391 0.00116206046848396 0.000974342221717788 ...
        0.000579018946207342 0.00015103617412487 -0.000153688639424019 ...
        -0.00025253117782832 -0.000160897311204686 2.05258679644346e-05 ...
        0.000150857962742525 0.000110126554036317 -0.000145963461590925 ...
        -0.000558269767802021 -0.00097547211429016 -0.00120302807253082 ...
        -0.00107512182859275 -0.000525528980816004 0.000368246955662633 ...
        0.00138639118598593 0.00221869444796823 0.00255540028315599 ...
        0.00219107523773822 0.00110868079169593 -0.000486078069047387 ...
        -0.002197071760898 -0.00353429858653624 -0.00405163534025441 ...
        -0.0034876478638779 -0.00186658206723324 0.00047551553559769 ...
        0.0029545838740313 0.00488303234405068 0.00565819093996712 ...
        0.00494519770533078 0.00279860910527981 -0.000317349268553315 ...
        -0.00362413648463913 -0.00622225314863719 -0.00733484115664691 ...
        -0.00653576357287516 -0.00389606512903681 -1.43573072258586e-06 ...
        0.0041734404309644 0.0075080482891933 0.00903632937626433 ...
        0.0082236669522593 0.00514182291855214 0.000486807910111763 ...
        -0.00457457369850517 -0.00869689464710534 -0.0107138853888858 ...
        -0.00996669435933379 -0.00651054444449516 -0.00113670414716124 ...
        0.00480554040346028 0.0097478005690614 0.0123173215851674 ...
        0.0117175757747529 0.00796939050460393 0.00194079477379708 ...
        -0.00485147616574714 -0.0106241828895475 -0.0137970845923493 ...
        -0.0134257431243615 -0.00947902151322191 -0.00288051402071394 ...
        0.00470566921312737 0.0112956489631493 0.0151064490036091 ...
        0.0150394175718837 0.0109950865499971 0.00392958639858438 ...
        -0.00437006576042608 -0.0117394610439132 -0.0162035643378382 ...
        -0.0165077747522176 -0.0124699832476389 -0.00505497466814916 ...
        0.00385539306518599 0.0119416729769725 0.0170533669731817 ...
        0.0177831478071582 0.0138548738352293 0.00621820980711916 ...
        -0.00318079051260704 -0.0118978404039404 -0.0176291645035186 ...
        -0.018823163508614 -0.0151018195061241 -0.00737707107942162 ...
        0.00237301780716799 0.0116132524555657 0.0179138753757467 ...
        0.0195926444434223 0.0161659536691256 0.00848747904055826 ...
        -0.0014652272456191 -0.0111026966821118 -0.0179007902104188 ...
        -0.0200652329839435 -0.0170075451793139 -0.00950556401681159 ...
        0.000495414693349383 0.0103897346401935 0.0175938759788457 ...
        0.0202246034309112 0.0175938759788457 0.0103897346401935 ...
        0.000495414693349383 -0.00950556401681159 -0.0170075451793139 ...
        -0.0200652329839435 -0.0179007902104188 -0.0111026966821118 ...
        -0.0014652272456191 0.00848747904055826 0.0161659536691256 ...
        0.0195926444434223 0.0179138753757467 0.0116132524555657 ...
        0.00237301780716799 -0.00737707107942162 -0.0151018195061241 ...
        -0.018823163508614 -0.0176291645035186 -0.0118978404039404 ...
        -0.00318079051260704 0.00621820980711916 0.0138548738352293 ...
        0.0177831478071582 0.0170533669731817 0.0119416729769725 ...
        0.00385539306518599 -0.00505497466814916 -0.0124699832476389 ...
        -0.0165077747522176 -0.0162035643378382 -0.0117394610439132 ...
        -0.00437006576042608 0.00392958639858438 0.0109950865499971 ...
        0.0150394175718837 0.0151064490036091 0.0112956489631493 ...
        0.00470566921312737 -0.00288051402071394 -0.00947902151322191 ...
        -0.0134257431243615 -0.0137970845923493 -0.0106241828895475 ...
        -0.00485147616574714 0.00194079477379708 0.00796939050460393 ...
        0.0117175757747529 0.0123173215851674 0.0097478005690614 ...
        0.00480554040346028 -0.00113670414716124 -0.00651054444449516 ...
        -0.00996669435933379 -0.0107138853888858 -0.00869689464710534 ...
        -0.00457457369850517 0.000486807910111763 0.00514182291855214 ...
        0.0082236669522593 0.00903632937626433 0.0075080482891933 ...
        0.0041734404309644 -1.43573072258586e-06 -0.00389606512903681 ...
        -0.00653576357287516 -0.00733484115664691 -0.00622225314863719 ...
        -0.00362413648463913 -0.000317349268553315 0.00279860910527981 ...
        0.00494519770533078 0.00565819093996712 0.00488303234405068 ...
        0.0029545838740313 0.00047551553559769 -0.00186658206723324 ...
        -0.0034876478638779 -0.00405163534025441 -0.00353429858653624 ...
        -0.002197071760898 -0.000486078069047387 0.00110868079169593 ...
        0.00219107523773822 0.00255540028315599 0.00221869444796823 ...
        0.00138639118598593 0.000368246955662633 -0.000525528980816004 ...
        -0.00107512182859275 -0.00120302807253082 -0.00097547211429016 ...
        -0.000558269767802021 -0.000145963461590925 0.000110126554036317 ...
        0.000150857962742525 2.05258679644346e-05 -0.000160897311204686 ...
        -0.00025253117782832 -0.000153688639424019 0.00015103617412487 ...
        0.000579018946207342 0.000974342221717788 0.00116206046848396 ...
        0.00101379431772391 0.000501969377900648 -0.00027686694658892 ...
        -0.00111965637029178 -0.00177221052638738 -0.00200665528624936 ...
        -0.0016972440091789 -0.000870163743407699 0.000290165369650027 ...
        0.00148304847452251 0.00237189698157801 0.00268087367821467 ...
        0.00227975304490425 0.00123107796613014 -0.000216137363355615 ...
        -0.00168690961116328 -0.00277981656397425 -0.00317856405368315 ...
        -0.00274408226152408 -0.00156030415099179 8.09116656714952e-05 ...
        0.00175327335719172 0.00300904463693101 0.00350095214244151 ...
        0.00307937313427948 0.00183732794545398 8.99508577144639e-05 ...
        -0.00170701882134887 -0.00307815330164735 -0.00365609066031201 ...
        -0.00328127335001011 -0.0020463351479984 -0.000272715201851231 ...
        0.00157439018495071 0.00300988039034554 0.00365792845212656 ...
        0.00335167043493401 0.0021766312951432 0.000446535384653115 ...
        -0.00138158501941907 -0.00282966422377228 -0.00352518874375694 ...
        -0.00329813621523886 -0.00222282302677049 -0.000594271123592583 ...
        0.00115346346238606 0.00256422929568934 0.00328011604583224 ...
        0.00313316058671206 0.00218466420631144 0.000703020435682991 ...
        -0.00091249620367256 -0.00224021269994372 -0.00294714628730567 ...
        -0.00287313205100912 -0.00206663035093636 -0.00076434068099695 ...
        0.000677911225565538 0.00188293771665901 0.00255155373703525 ...
        0.0025372239480019 0.00187725122730292 0.000774217961259045 ...
        -0.000465139767277066 -0.00151536627806434 -0.00211820656487349 ...
        -0.00214619908279625 -0.00162828930670305 -0.000732758716768536 ...
        0.000285506637302026 0.00115730283992854 0.00167044796318597 ...
        0.00172127921290031 0.00133381307083486 0.000643710623738274 ...
        -0.000146211787562297 -0.000824857149915793 -0.00122920239097045 ...
        -0.00128306029367693 -0.00100921144892639 -0.000513767162643904 ...
        5.05284417338753e-05 0.000530146920122762 0.000812226467826491 ...
        0.000850550409802073 0.000670214608984926 0.000351829806737208 ...
        1.80343680913167e-06 -0.000281232137928024 -0.000433668874169173 ...
        -0.000440404214057517 -0.000332004099079053 -0.000168158060753774 ...
        -1.3995944001987e-05 8.23314615132388e-05 0.000103840380328473 ...
        6.63583243735061e-05 8.44609764360436e-06 -2.63978788412916e-05 ...
        -8.39688628544743e-06 6.58140185363289e-05 0.000170783046929978 ...
        0.000261115118358462 0.000288538533848341 0.000221196029956854 ...
        5.82613059192135e-05 -0.000165477569404014 -0.000387346071435926 ...
        -0.000534953035666548 -0.000549440983384823 -0.00040640922792489 ...
        -0.000127577192020598 0.000221260971263308 0.000546254492008464 ...
        0.000751470536928886 0.000767402523649357 0.00057357871048039 ...
        0.000208093292527894 -0.000239491070443197 -0.000650679102506674 ...
        -0.000910096441510455 -0.000938325713470628 -0.000716004064899106 ...
        -0.000291945006208777 0.000227548351399539 0.000705935265027227 ...
        0.00101298641739129 0.00106076699172629 0.000828937905925646 ...
        0.000372102514692571 -0.000193228903788298 -0.000718906207856499 ...
        -0.00106458411065662 -0.00113572256327827 -0.000909688277891359 ...
        -0.000442748202004068 0.000144196022450498 0.000697384509909408 ...
        0.00107104686519358 0.00116628540947467 0.000957547030630366 ...
        0.000499491248658516 -8.75331751409407e-05 -0.00064952487736647 ...
        -0.00103969470996898 -0.00115723356110871 -0.000973602127305022 ...
        -0.000539474673069988 2.9388464117996e-05 0.000583305719870686 ...
        0.000978455253751791 0.00111454644300191 0.0009604787860126 ...
        0.000561342678131552 2.52583103194307e-05 -0.000506125376563173 ...
        -0.000895341606590876 -0.00104493528575677 -0.000921980979115086 ...
        -0.000565126787409574 -7.27012117066222e-05 0.000424468477826808 ...
        0.000798023331034726 0.000955380416441937 0.00086274307311201 ...
        0.000552040026855538 0.000110526458077957 -0.000343719280248412 ...
        -0.000693473410687815 -0.000852734383396454 -0.000787844072527301 ...
        -0.000524232928640588 -0.000137522000581977 0.000268038807427985 ...
        0.000587714949314444 0.000743362210637783 0.000702468847749002 ...
        0.000484505818636836 0.000153544448283429 -0.000200366926438334 ...
        -0.000485650300246297 -0.000632886759286859 -0.000611580879278622 ...
        -0.000436032919747961 -0.000159308562413487 0.000142477154462313 ...
        0.000391001454697311 0.000525987421550934 0.000519679964552093 ...
        0.000382085521370925 0.000156180809783587 -9.51181332439049e-05 ...
        -0.000306315605566811 -0.000426317007039974 -0.000430603153016558 ...
        -0.000325804432911749 -0.000145928866804143 5.81868342584641e-05 ...
        0.000233067734437769 0.000336470615664012 0.000347414169547811 ...
        0.000269998728408094 0.000130521006686642 -3.09319605702019e-05 ...
        -0.000171779761534558 -0.000258043928387761 -0.000272345972998663 ...
        -0.000217027770044838 -0.000111925263836211 1.21457732175224e-05 ...
        0.00012220724121376 0.000191722439029557 0.000206820712370358 ...
        0.000168701315953825 9.19637440177325e-05 -3.64632861351758e-07 ...
        -8.35059226891905e-05 -0.000137425998999028 -0.00015149369287839 ...
        -0.000126262105682508 -7.21925578992625e-05 -5.97012111598737e-06 ...
        5.44314050226911e-05 9.44630800987078e-05 0.000106366646846881 ...
        9.03939063362434e-05 5.38425119134419e-05 8.36816897597881e-06 ...
        -3.35027952812196e-05 -6.17055953733971e-05 -7.09031782227788e-05 ...
        -6.12766243091201e-05 -3.77664232944043e-05 -8.19031245882209e-06 ...
        1.91670671612354e-05 3.77400966538703e-05 4.41483455808174e-05 ...
        3.86034504494212e-05 2.43287236976797e-05 6.22414681675728e-06 ...
        -1.07361373279476e-05 -2.30198272776003e-05 -2.96885374109899e-05 ...
        -3.33635435137773e-05 -4.16719756551255e-05 2.56753022153266e-05]);
end

y = step(Hd,double(x));


% [EOF]
